{
    "name": "plexio",
    "version": "0.1.15",
    "description": "Plexio: Plex Integration for Stremio - Standalone Mac App",
    "main": "electron/main.js",
    "scripts": {
        "electron:dev": "electron .",
        "electron:dev:full": "concurrently \"npm run dev:frontend\" \"wait-on http://localhost:5173 && electron .\"",
        "dev:frontend": "cd frontend && npm run dev",
        "electron:build": "npm run build:frontend && npm run build:backend && electron-builder",
        "build:frontend": "cd frontend && npm install && npm run build",
        "build:backend": "python3 -m pip install --quiet pyinstaller && pyinstaller --clean --noconfirm --workpath build --distpath dist/backend electron/backend.spec",
        "build": "npm run electron:build",
        "postinstall": "electron-builder install-app-deps"
    },
    "build": {
        "appId": "com.plexio.app",
        "productName": "Plexio",
        "mac": {
            "category": "public.app-category.utilities",
            "target": [{
                "target": "dmg",
                "arch": ["x64", "arm64"]
            }],
            "icon": "electron/icon.icns",
            "hardenedRuntime": false,
            "gatekeeperAssess": false,
            "entitlements": null,
            "entitlementsInherit": null,
            "notarize": false
        },
        "files": [
            "electron/**/*",
            "frontend/dist/**/*",
            "dist/backend/**/*",
            "!**/node_modules/**/*",
            "!**/__pycache__/**/*",
            "!**/*.pyc"
        ],
        "extraResources": [{
                "from": "dist/backend/backend",
                "to": "backend/backend",
                "filter": ["**/*"]
            },
            {
                "from": "frontend/dist",
                "to": "frontend/dist",
                "filter": ["**/*"]
            }
        ],
        "directories": {
            "output": "release"
        }
    },
    "devDependencies": {
        "electron": "^28.0.0",
        "electron-builder": "^24.9.1",
        "concurrently": "^8.2.2",
        "wait-on": "^7.2.0"
    }
}